(this.webpackJsonppomodoro=this.webpackJsonppomodoro||[]).push([[0],{139:function(e,t,n){},154:function(e,t,n){e.exports=n(260)},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},256:function(e,t,n){},258:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),c=n.n(r),i=n(272),s=n(51),u=n(13),l=n.n(u),d=n(26),p=n(25),m=n(15),f=n(16),h=n(18),b=n(17),v=n(19),y=n(9),O=n(273),T=n(265),E=n(267),g=n(270),j=n(268),k=n(140),w=n.n(k),C=n(30),x="";x="/PomodoroTimer";var D=Object(C.a)({basename:x}),N=1,S=w.a.create({baseURL:"https://gp-server.hunger-valley.com/",headers:{"t-app-id":"HEtRxRQ3APDWy3eHKYme5KjY","t-app-secret":"aJsNpHpJ26HyfhmuPCeWR1ip"}});S.interceptors.request.use((function(e){var t=localStorage.getItem("x-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return console.error(e),Promise.reject(e)})),S.interceptors.response.use((function(e){return e.headers["x-token"]&&(localStorage.setItem("x-token",e.headers["x-token"]),localStorage.setItem("count",N.toString()),N+=1),e}),(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(console.log("\u91cd\u5b9a\u5411"),D.push("/login")),Promise.reject(e)}));var _,I=S,M=n(27),A=function(e){return{type:"UPDATE_TODO",payload:e}},P=n(263),U=n(57),K=n.n(U),H=n(50),F=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).points=function(){var e=Object.keys(n.props.data).sort((function(e,t){return Date.parse(e)-Date.parse(t)})),t=e[0];if(t){var a=(new Date).getTime()-Date.parse(t),o=0,r=null,c=e.map((function(e){var c=(Date.parse(e)-Date.parse(t))/a*240,i=60*(1-(o+=n.props.data[e].length)/n.props.totalFinishedCount);return r=i,"".concat(c,", ").concat(i)}));return["0,60"].concat(Object(H.a)(c),["240,".concat(r),"240, 60"]).join(" ")}return"0,60 0,60"},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Polygon",id:"Polygon"},o.a.createElement("svg",null,o.a.createElement("polygon",{fill:"rgba(24, 144, 255, 0.1)",stroke:"rgba(24, 144, 255, 0.5)",strokeWidth:"1",points:this.points()})))}}]),t}(a.Component),B=(n(181),n(264)),W=(n(182),n(183),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).updateTodo=function(){var e=Object(p.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.put("todos/".concat(n.props.id),t);case 3:a=e.sent,n.props.updateTodo(a.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t=this,n="HH:MM",a=this.props.updated_at;return"finished"===this.props.itemType?e=o.a.createElement("div",{className:"action"},o.a.createElement("span",{onClick:function(){t.updateTodo({completed:!1})}},"\u6062\u590d"),o.a.createElement("span",{onClick:function(){t.updateTodo({deleted:!0})}},"\u5220\u9664")):(n="yyyy-MM-dd",a=this.props.created_at,e=o.a.createElement("div",{className:"action"},o.a.createElement("span",{onClick:function(){t.updateTodo({deleted:!1})}},"\u6062\u590d"))),o.a.createElement("div",{className:"todoItem"},o.a.createElement("div",{className:"text"},o.a.createElement("span",null,Object(P.a)(Date.parse(a),n)),o.a.createElement("span",null,this.props.description)),e)}}]),t}(a.Component)),L={updateTodo:A},R=Object(M.b)(null,L)(W),z=B.a.TabPane,J=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.finishedDates.map((function(t){return o.a.createElement("div",{key:t,className:"dailyTodos"},o.a.createElement("div",{className:"summary"},o.a.createElement("p",{className:"date"},o.a.createElement("span",null,t),o.a.createElement("span",null,Object(P.a)(Date.parse(t),"cccc"))),o.a.createElement("p",{className:"finishedCount"},"\u5b8c\u6210\u4e86",e.dailyFinishedTodos[t].length,"\u4e2a\u4efb\u52a1")),o.a.createElement("div",{className:"todoList"},e.dailyFinishedTodos[t].map((function(e){return o.a.createElement(R,Object.assign({key:e.id},e,{itemType:"finished"}))}))))})),n=this.deletedTodos.map((function(e){return o.a.createElement(R,Object.assign({key:e.id},e,{itemType:"deleted"}))}));return o.a.createElement(B.a,{defaultActiveKey:"1"},o.a.createElement(z,{tab:"\u5df2\u5b8c\u6210\u4efb\u52a1",key:"1"},o.a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},t)),o.a.createElement(z,{tab:"\u5df2\u5220\u9664\u4efb\u52a1",key:"2"},o.a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},n)))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"deletedTodos",get:function(){return this.props.todos.filter((function(e){return e.deleted}))}},{key:"dailyFinishedTodos",get:function(){return K.a.groupBy(this.finishedTodos,(function(e){return Object(P.a)(Date.parse(e.updated_at),"yyyy-MM-dd")}))}},{key:"dailyDeletedTodos",get:function(){return K.a.groupBy(this.deletedTodos,(function(e){return Object(P.a)(Date.parse(e.updated_at),"yyyy-MM-dd")}))}},{key:"finishedDates",get:function(){return Object.keys(this.dailyFinishedTodos)}}]),t}(a.Component),V=Object(M.b)((function(e,t){return Object(d.a)({todos:e.todos},t)}),null)(J),Y=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Statistics",id:"Statistics"},o.a.createElement("ul",null,o.a.createElement("li",null,"\u7d2f\u8ba1\u5b8c\u6210",o.a.createElement("h1",{style:{color:"#1890ff"}},this.finishedTodos.length),"\u4e2a\u4efb\u52a1",o.a.createElement(F,{data:this.dailyTodos,totalFinishedCount:this.finishedTodos.length}))),o.a.createElement(V,null))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"dailyTodos",get:function(){return K.a.groupBy(this.finishedTodos,(function(e){return Object(P.a)(Date.parse(e.updated_at),"yyyy-MM-dd")}))}}]),t}(a.Component),q=Object(M.b)((function(e,t){return Object(d.a)({todos:e.todos},t)}),null)(Y),Q=n(271),$=n(266),G=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).onChange=function(e){n.setState({description:e})},n.postTodo=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("todos",{description:n.state.description});case 3:t=e.sent,n.props.addTodo(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={description:""},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state.description;return o.a.createElement("div",{className:"TodoInput",id:"TodoInput"},o.a.createElement($.a,{placeholder:"\u4eca\u5929\u8981\u5e72\u4ec0\u4e48",value:t,allowClear:!0,onChange:function(t){e.onChange(t.target.value)},onKeyUp:function(t){e.handleKeyUp(t)}}))}},{key:"handleKeyUp",value:function(e){var t=this;"Enter"===e.key&&""!==this.state.description&&this.postTodo().then((function(){t.setState({description:""})}))}}]),t}(a.Component),X={addTodo:function(e){return{type:"ADD_TODO",payload:e}}},Z=Object(M.b)((function(e,t){return Object(d.a)({todos:e.todos},t)}),X)(G),ee=n(269),te=n(2),ne=n.n(te),ae=(n(240),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).handleEditTextChange=function(e){n.setState({editText:e})},n.state={editText:n.props.description},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"editing"},o.a.createElement("input",{type:"text",value:this.state.editText,onChange:function(t){e.handleEditTextChange(t.target.value)},onKeyUp:function(t){e.handelKeyUp(t)},autoFocus:!0}),o.a.createElement("div",{className:"iconWrapper"},o.a.createElement(y.a,{type:"enter",onClick:function(){e.submit()},className:"enter"}),o.a.createElement(y.a,{type:"delete",onClick:function(){e.props.update(e.props.id,{deleted:!0})}}))),n=o.a.createElement("span",{className:"Text"},this.props.description),a=ne()({TodoItem:!0,editing:this.props.editable,completed:this.props.completed});return o.a.createElement("div",{className:a,id:"TodoItem",onDoubleClick:function(){e.props.editTodo(e.props.id)}},o.a.createElement(ee.a,{checked:this.props.completed,onChange:function(t){e.props.update(e.props.id,{completed:t.target.checked})}}),this.props.editable?t:n)}},{key:"handelKeyUp",value:function(e){"Enter"===e.key&&""!==this.state.editText&&this.props.update(this.props.id,{description:this.state.editText})}},{key:"submit",value:function(){""!==this.state.editText&&this.props.update(this.props.id,{description:this.state.editText})}}]),t}(a.Component)),oe=(n(241),Q.a.TreeNode),re=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).isTodoEditable=function(e){n.props.editTodo(e)},n.postTodo=function(){var e=Object(p.a)(l.a.mark((function e(t,a){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.completed&&(a.completed_at=new Date),e.prev=1,e.next=4,I.put("todos/".concat(t),a);case 4:o=e.sent,n.props.updateTodo(o.data.resource),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Todos",id:"Todos"},o.a.createElement(Z,null),o.a.createElement("div",{className:"todoList"},this.unCompletedTodos.map((function(t){return o.a.createElement(ae,Object.assign({key:t.id},t,{update:e.postTodo,editTodo:e.isTodoEditable}))})),o.a.createElement(Q.a,{showLine:!0,switcherIcon:o.a.createElement(y.a,{type:"down"})},o.a.createElement(oe,{title:"\u663e\u793a\u6700\u8fd1\u5b8c\u6210",key:"0-0-0-2"},this.completedTodos.map((function(t){return o.a.createElement(oe,{key:"tree-".concat(t.id),title:o.a.createElement(ae,Object.assign({key:t.id},t,{update:e.postTodo,editTodo:e.isTodoEditable}))})}))))))}},{key:"unCompletedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return!e.completed}))}},{key:"unDeletedTodos",get:function(){return this.props.todos.filter((function(e){return!e.deleted}))}},{key:"completedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return e.completed}))}}]),t}(a.Component),ce={editTodo:function(e){return{type:"EDIT_TODO",payload:e}},updateTodo:A},ie=Object(M.b)((function(e,t){return Object(d.a)({todos:e.todos},t)}),ce)(re),se=n(35),ue="\u756a\u8304\u5de5\u4f5c\u6cd5 - Pomodoro Timer",le=n(151),de=(n(242),function(e){var t=Object(a.useState)(e.timer),n=Object(le.a)(t,2),r=n[0],c=n[1],i=Math.floor(r/1e3/60),s=Math.floor(r/1e3%60),u="".concat(i<10?"0".concat(i):i," : ").concat(s<10?"0".concat(s):s);Object(a.useEffect)((function(){return document.title="".concat(u," - Pomodoro Timer"),_=window.setInterval((function(){c(r-1e3)}),1e3),r<0&&(e.onFinish(),clearInterval(_),document.title=ue),function(){window.clearInterval(_)}}));var l=1-r/e.duration;return o.a.createElement("div",{className:"CountDown",id:"CountDown"},o.a.createElement("span",{className:"restTime"},i>=0||s>=0?u:"00 : 00"),o.a.createElement("div",{className:"progress",style:{width:"".concat(100*l,"%")}}))}),pe=(n(243),E.a.confirm),me=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).onFinish=function(){n.forceUpdate()},n.abortTomato=function(){n.updateTomato({aborted:!0}).then((function(){document.title=ue}))},n.updateTomato=function(){var e=Object(p.a)(l.a.mark((function e(t){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.put("tomatoes/".concat(null===(a=n.props.unfinishedTomato)||void 0===a?void 0:a.id),t);case 3:o=e.sent,n.props.updateTomato(o.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.handleKeyUp=function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t||""===n.state.description){e.next=5;break}return e.next=3,n.updateTomato({description:n.state.description,ended_at:new Date});case 3:return e.next=5,n.setState({description:""});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showConfirm=function(){pe({title:"\u786e\u8ba4\u4e22\u5f03\u8fd9\u4e2a\u756a\u8304?",onOk:function(){n.abortTomato()},onCancel:function(){},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"})},n.state={description:""},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null);if(void 0===this.props.unfinishedTomato)t=o.a.createElement(se.a,{type:"primary",block:!0,onClick:function(){e.props.startTomato()}},"\u5f00\u59cb\u756a\u8304");else{var n,a,r=Date.parse(null===(n=this.props.unfinishedTomato)||void 0===n?void 0:n.started_at),c=null===(a=this.props.unfinishedTomato)||void 0===a?void 0:a.duration,i=(new Date).getTime();if(i-r>c)t=o.a.createElement("div",{className:"inputWrapper"},o.a.createElement($.a,{placeholder:"\u8bf7\u8f93\u5165\u4f60\u521a\u624d\u5b8c\u6210\u7684\u4efb\u52a1",value:this.state.description,onChange:function(t){e.setState({description:t.target.value})},onKeyUp:function(t){e.handleKeyUp(t.key)}}),o.a.createElement(y.a,{type:"close-circle",className:"abort"}));else if(i-r<c){var s=c-i+r;t=o.a.createElement("div",{className:"countDownWrapper"},o.a.createElement(de,{timer:s,onFinish:this.onFinish,duration:c}),o.a.createElement(y.a,{type:"close-circle",className:"abort",onClick:this.showConfirm}))}}return o.a.createElement("div",{className:"TomatoAction",id:"TomatoAction"},t)}}]),t}(a.Component),fe=(n(246),n(262)),he=(n(247),o.a.createElement(y.a,{type:"loading",style:{fontSize:24},spin:!0})),be=function(e){return o.a.createElement("div",{className:"TomatoItem"},o.a.createElement("span",{className:"timeRange"},Object(P.a)(Date.parse(e.started_at),"H:mm")," - ",Object(P.a)(Date.parse(e.ended_at),"H:mm")),o.a.createElement("span",{className:"description"},e.description))},ve=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={spinning:!0},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.setState({spinning:!1})}},{key:"render",value:function(){var e=this,t=this.dates.map((function(t){var n=e.props.finishedTomatoes[t];return o.a.createElement("div",{key:t,className:"dailyTomatoes"},o.a.createElement("div",{className:"title"},o.a.createElement("span",{className:"dateTime"},Object(P.a)(Date.parse(t),"M\u6708dd\u65e5")),o.a.createElement("span",{className:"finishCount"},"\u5b8c\u6210\u4e86",n.length,"\u4e2a\u756a\u8304")),n.map((function(e){return o.a.createElement(be,Object.assign({key:e.id},e))})))}));return o.a.createElement("div",{className:"TomatoList",id:"TomatoList"},o.a.createElement(fe.a,{indicator:he,spinning:this.state.spinning}),t)}},{key:"dates",get:function(){return Object.keys(this.props.finishedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)})).splice(0,3)}}]),t}(a.Component),ye=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).startTomato=function(){var e=Object(p.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("tomatoes",{duration:60*t*1e3});case 3:a=e.sent,n.props.addTomato(a.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.setState({spinning:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Tomatoes",id:"Tomatoes"},o.a.createElement(me,{startTomato:function(){e.startTomato(e.props.timer)},updateTomato:this.props.updateTomato,unfinishedTomato:this.unfinishedTomato}),o.a.createElement(ve,{finishedTomatoes:this.finishedTomatoes}))}},{key:"unfinishedTomato",get:function(){return this.props.tomatoes.filter((function(e){return!e.description&&!e.ended_at&&!e.aborted}))[0]}},{key:"finishedTomatoes",get:function(){var e=this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted}));return K.a.groupBy(e,(function(e){return Object(P.a)(Date.parse(e.started_at),"yyyy-MM-dd")}))}}]),t}(a.Component),Oe={addTomato:function(e){return{type:"ADD_TOMATO",payload:e}},updateTomato:function(e){return{type:"UPDATE_TOMATO",payload:e}}},Te=Object(M.b)((function(e,t){return Object(d.a)({tomatoes:e.tomatoes},t)}),Oe)(ye),Ee=(n(248),y.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_808628_b6nuh19mmf5.js"})),ge=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).logout=function(){localStorage.setItem("x-token",""),n.props.history.push("/login")},n.getMe=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("me");case 2:t=e.sent,n.setState(Object(d.a)({},n.state,{user:t.data}));case 4:case"end":return e.stop()}}),e)}))),n.getTodos=Object(p.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("todos");case 3:t=e.sent,a=t.data.resources.map((function(e){return Object.assign({},e,{editable:!1})})),n.props.initTodos(a),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.getTomatoes=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("tomatoes");case 3:t=e.sent,n.props.initTomatoes(t.data.resources),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error;case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.handleOk=function(){n.setState(Object(d.a)({},n.state,{visible:!1}))},n.handleCancel=function(){n.setState(Object(d.a)({},n.state,{visible:!1}))},n.showModal=function(){n.setState(Object(d.a)({},n.state,{visible:!0}))},n.onInputValChange=function(e){n.setState(Object(d.a)({},n.state,{timer:e}))},n.state={user:{},visible:!1,timer:25},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){1===Number(localStorage.getItem("count"))&&(O.a.open({message:"\u4f7f\u7528\u5c0f\u63d0\u793a",description:"\u6309\u4e0b\u56de\u8f66\u952e\u5373\u53ef\u6dfb\u52a0\u65b0\u7684todo\u5662",onClick:function(){console.log("Notification Clicked!")}}),O.a.open({message:"\u4f7f\u7528\u5c0f\u63d0\u793a",description:"\u756a\u8304\u65f6\u95f4\u7ed3\u675f\u540e\u8f93\u5165\u4f60\u521a\u624d\u5b8c\u6210\u7684\u4e8b\u60c5",onClick:function(){console.log("Notification Clicked!")}}))}},{key:"UNSAFE_componentWillMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMe();case 2:return e.next=4,this.getTodos();case 4:return e.next=6,this.getTomatoes();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,n=o.a.createElement(T.a,{style:{textAlign:"right"}},o.a.createElement(T.a.Item,null,o.a.createElement("span",{onClick:function(){t.showModal()}},"\u504f\u597d\u8bbe\u7f6e\xa0",o.a.createElement(y.a,{type:"setting"}))),o.a.createElement(T.a.Item,null,o.a.createElement("span",{onClick:function(e){e.preventDefault(),t.logout()}},"\u9000\u51fa\u767b\u5f55\xa0",o.a.createElement(y.a,{type:"logout"}))));return o.a.createElement("div",{className:"Home",id:"Home"},o.a.createElement(E.a,{title:"\u8bbe\u7f6e\u4e00\u4e2a\u756a\u8304\u7684\u65f6\u95f4",visible:this.state.visible,onOk:function(){t.handleOk()},onCancel:function(){t.handleCancel()}},o.a.createElement(g.a,{min:1,max:100,defaultValue:25,onChange:function(e){t.onInputValChange(e)}})," min"),o.a.createElement("header",null,o.a.createElement("span",{className:"logo"},o.a.createElement(Ee,{type:"i-Tomato",className:"icon",style:{fontSize:32}}),"Pomodoro Timer"),o.a.createElement(j.a,{overlay:n},o.a.createElement("span",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{color:"#1890ff",cursor:"pointer",fontSize:"1rem"}},"\u4f60\u597d, ",null===(e=this.state.user)||void 0===e?void 0:e.account," ",o.a.createElement(y.a,{type:"down"})))),o.a.createElement("main",null,o.a.createElement(Te,{timer:this.state.timer}),o.a.createElement(ie,null)),o.a.createElement("footer",null,o.a.createElement(q,null)))}}]),t}(a.Component),je={initTodos:function(e){return{type:"INIT_TODOS",payload:e}},initTomatoes:function(e){return{type:"INIT_TOMATOES",payload:e}}},ke=Object(M.b)((function(e,t){return Object(d.a)({},t)}),je)(ge),we=n(42),Ce=n(75),xe=(n(256),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).onChange=function(e,t){var a={};a[e]=t,n.setState(a)},n.submit=Object(p.a)(l.a.mark((function e(){var t,a,o,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.account,o=t.password,e.prev=1,e.next=4,I.post("sign_in/user",(r={},Object(we.a)(r,"account",a),Object(we.a)(r,"password",o),r));case 4:return e.next=6,console.log("\u767b\u5f55\u6210\u529f");case 6:return e.next=8,n.props.history.push("/");case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),n.state={account:"",password:""},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.account,a=t.password;return o.a.createElement("div",{className:"Login",id:"Login"},o.a.createElement("h1",null,"Pomodoro \u767b\u5f55"),o.a.createElement($.a,{placeholder:"\u8f93\u5165\u7528\u6237\u540d",prefix:o.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0.25)"}}),value:n,onChange:function(t){e.onChange("account",t.target.value)}}),o.a.createElement($.a.Password,{placeholder:"\u8f93\u5165\u5bc6\u7801",value:a,onChange:function(t){e.onChange("password",t.target.value)},onKeyDown:function(t){e.handleKeyDown(t.key)}}),o.a.createElement(se.a,{onClick:this.submit,className:"loginButton",type:"primary"},"\u767b\u5f55"),o.a.createElement("p",null,"\u6ca1\u6709\u8d26\u53f7? ",o.a.createElement(Ce.a,{to:"/signup"},"\u6ce8\u518c")))}},{key:"handleKeyDown",value:function(e){"Enter"===e&&this.submit()}}]),t}(a.Component)),De=(n(258),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this,e))).onChange=function(e,t){n.setState(Object(d.a)({},n.state,Object(we.a)({},e,t)))},n.submit=Object(p.a)(l.a.mark((function e(){var t,a,o,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.account,o=t.password,r=t.passwordConfirmed,e.prev=1,e.next=4,I.post("sign_up/user",(c={},Object(we.a)(c,"account",a),Object(we.a)(c,"password",o),Object(we.a)(c,"password_confirmation",r),c));case 4:console.log("\u6210\u529f"),n.props.history.push("/"),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),n.state={account:"",password:"",passwordConfirmed:""},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.account,a=t.password,r=t.passwordConfirmed;return o.a.createElement("div",{className:"SignUp",id:"SignUp"},o.a.createElement("h1",null,"Pomodoro \u6ce8\u518c"),o.a.createElement($.a,{placeholder:"\u8f93\u5165\u7528\u6237\u540d",prefix:o.a.createElement(y.a,{type:"user",style:{color:"rgba(0,0,0.25)"}}),value:n,onChange:function(t){e.onChange("account",t.target.value)}}),o.a.createElement($.a.Password,{placeholder:"\u8f93\u5165\u5bc6\u7801",value:a,onChange:function(t){e.onChange("password",t.target.value)}}),o.a.createElement($.a.Password,{placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801",value:r,onChange:function(t){e.onChange("passwordConfirmed",t.target.value)},onKeyDown:function(t){e.handleKeyDown(t.key)}}),o.a.createElement(se.a,{onClick:this.submit,className:"signUpButton",type:"primary"},"\u6ce8\u518c"),o.a.createElement("p",null,"\u5df2\u6709\u8d26\u53f7? ",o.a.createElement(Ce.a,{to:{pathname:"/login"}},"\u767b\u5f55")))}},{key:"handleKeyDown",value:function(e){"Enter"===e&&this.submit()}}]),t}(a.Component));n(139);var Ne=function(){return o.a.createElement(s.b,{history:D},o.a.createElement(i.a,null),o.a.createElement(s.a,{exact:!0,path:"/",component:ke}),o.a.createElement(s.a,{path:"/login",component:xe}),o.a.createElement(s.a,{path:"/signup",component:De}))};n(259),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=n(66),_e=Object(Se.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return[].concat(Object(H.a)(e),[t.payload]);case"INIT_TODOS":return Object(H.a)(t.payload);case"EDIT_TODO":return e.map((function(e){return e.id===t.payload?Object.assign({},e,{editable:!e.editable}):Object.assign({},e,{editable:!1})}));case"UPDATE_TODO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},tomatoes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOMATO":return[t.payload].concat(Object(H.a)(e));case"INIT_TOMATOES":return Object(H.a)(t.payload);case"UPDATE_TOMATO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}}}),Ie=Object(Se.c)(_e);c.a.render(o.a.createElement(M.a,{store:Ie},o.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[154,1,2]]]);
//# sourceMappingURL=main.2d15dff0.chunk.js.map